{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/zhoux/Desktop/community-job-app/frontend/pages/discussion/discussion.vue?51c2","webpack:///C:/Users/zhoux/Desktop/community-job-app/frontend/pages/discussion/discussion.vue?5d78","webpack:///C:/Users/zhoux/Desktop/community-job-app/frontend/pages/discussion/discussion.vue?9541","uni-app:///pages/discussion/discussion.vue","webpack:///C:/Users/zhoux/Desktop/community-job-app/frontend/pages/discussion/discussion.vue?f411","webpack:///C:/Users/zhoux/Desktop/community-job-app/frontend/pages/discussion/discussion.vue?8d68"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","components","PostCard","setup","label","value","currentTab","uni","url","title","icon","id","nickname","city","createdAt","category","content","images","likes","comments","favorites","method","success","jobsStore","fail","fetchPosts","tabs","filteredPosts","switchTab","goPublishPost","likePost","favoritePost","sharePost","openComments"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AAC0L;AAC1L,gBAAgB,2LAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA0tB,CAAgB,0rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;AC6B9uB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC;EACAC;IACAC;EACA;EACAC;IACA;IACA;IACA,YACA;MAAAC;MAAAC;IAAA,GACA;MAAAD;MAAAC;IAAA,GACA;MAAAD;MAAAC;IAAA,GACA;MAAAD;MAAAC;IAAA,EACA;IAEA;MACA;MACA;QACA;MACA;MACA;QAAA;MAAA;IACA;IAEA;MACAC;IACA;IAEA;MACAC;QAAAC;MAAA;IACA;IAEA;MACAD;QAAAE;QAAAC;MAAA;IACA;IAEA;MACAH;QAAAE;QAAAC;MAAA;IACA;IAEA;MACAH;QAAAE;QAAAC;MAAA;IACA;IAEA;MACAH;QAAAC;MAAA;IACA;IAEA;MAAA,QACA;QACAG;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAT;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA,EACA;IAAA;IAEA;MACAb;QACAC;QACAa;QACAC;UACA;UACAC;QACA;QACAC;UACAD;QACA;MACA;IACA;IAEA;MACAE;IACA;IAEA;MACAC;MACApB;MACAqB;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACzIA;AAAA;AAAA;AAAA;AAAy3C,CAAgB,yvCAAG,EAAC,C;;;;;;;;;;;ACA74C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/discussion/discussion.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/discussion/discussion.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./discussion.vue?vue&type=template&id=ebfb7374&scoped=true&\"\nvar renderjs\nimport script from \"./discussion.vue?vue&type=script&lang=js&\"\nexport * from \"./discussion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./discussion.vue?vue&type=style&index=0&id=ebfb7374&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ebfb7374\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/discussion/discussion.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discussion.vue?vue&type=template&id=ebfb7374&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discussion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discussion.vue?vue&type=script&lang=js&\"","<template>\n  <scroll-view class=\"discussion\" scroll-y>\n    <view class=\"page-padding\">\n      <view class=\"discussion__tabs\">\n        <view\n          v-for=\"tab in tabs\"\n          :key=\"tab.value\"\n          :class=\"['discussion__tab', currentTab === tab.value ? 'is-active' : '']\"\n          @tap=\"switchTab(tab.value)\"\n        >\n          {{ tab.label }}\n        </view>\n        <view class=\"discussion__publish\" @tap=\"goPublishPost\">＋ 发帖</view>\n      </view>\n\n      <post-card\n        v-for=\"post in filteredPosts\"\n        :key=\"post.id\"\n        :post=\"post\"\n        @like=\"likePost\"\n        @comment=\"openComments\"\n        @favorite=\"favoritePost\"\n        @share=\"sharePost\"\n      />\n    </view>\n  </scroll-view>\n</template>\n\n<script>\nimport { computed, onMounted, ref } from 'vue';\nimport PostCard from '../../components/PostCard.vue';\nimport { useJobsStore } from '../../store/useJobsStore';\n\nexport default {\n  name: 'DiscussionPage',\n  components: {\n    PostCard\n  },\n  setup() {\n    const jobsStore = useJobsStore();\n    const currentTab = ref('recommend');\n    const tabs = [\n      { label: '推荐', value: 'recommend' },\n      { label: '同城', value: 'local' },\n      { label: '托育经验', value: 'care' },\n      { label: '闲置互换', value: 'resale' }\n    ];\n\n    const filteredPosts = computed(() => {\n      const list = jobsStore.discussions || [];\n      if (currentTab.value === 'recommend') {\n        return list;\n      }\n      return list.filter((post) => post.category === currentTab.value);\n    });\n\n    const switchTab = (value) => {\n      currentTab.value = value;\n    };\n\n    const goPublishPost = () => {\n      uni.navigateTo({ url: '/pages/discussion/post-editor' });\n    };\n\n    const likePost = (postId) => {\n      uni.showToast({ title: `已点赞 ${postId}`, icon: 'none' });\n    };\n\n    const favoritePost = (postId) => {\n      uni.showToast({ title: `已收藏 ${postId}`, icon: 'none' });\n    };\n\n    const sharePost = (postId) => {\n      uni.showToast({ title: `分享 ${postId}`, icon: 'none' });\n    };\n\n    const openComments = (postId) => {\n      uni.navigateTo({ url: `/pages/discussion/comments?postId=${postId}` });\n    };\n\n    const getFallbackPosts = () => [\n      {\n        id: 'post-1',\n        nickname: '诺诺妈妈',\n        city: '锦江区',\n        createdAt: '1小时前',\n        category: 'recommend',\n        content: '分享一个临时托管的靠谱姐姐，孩子很喜欢，地址在牛市口附近。',\n        images: [],\n        likes: 12,\n        comments: 4,\n        favorites: 6\n      },\n      {\n        id: 'post-2',\n        nickname: '自由的风',\n        city: '天府新区',\n        createdAt: '2小时前',\n        category: 'resale',\n        content: '闲置绘本一套（适合4-6岁），九成新，有需要的姐妹可换纸尿裤或托管体验券。',\n        images: [],\n        likes: 8,\n        comments: 3,\n        favorites: 10\n      }\n    ];\n\n    const fetchPosts = () => {\n      uni.request({\n        url: 'http://localhost:8080/api/posts',\n        method: 'GET',\n        success: (res) => {\n          const responseData = res.data && res.data.data ? res.data.data : [];\n          jobsStore.setDiscussions(responseData);\n        },\n        fail: () => {\n          jobsStore.setDiscussions(getFallbackPosts());\n        }\n      });\n    };\n\n    onMounted(() => {\n      fetchPosts();\n    });\n\n    return {\n      tabs,\n      currentTab,\n      filteredPosts,\n      switchTab,\n      goPublishPost,\n      likePost,\n      favoritePost,\n      sharePost,\n      openComments\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.discussion {\n  min-height: 100vh;\n\n  &__tabs {\n    display: flex;\n    align-items: center;\n    gap: 20rpx;\n    margin: 24rpx 0;\n    flex-wrap: wrap;\n  }\n\n  &__tab {\n    padding: 16rpx 28rpx;\n    border-radius: 32rpx;\n    background: #f0f4ff;\n    color: #666;\n    font-size: 26rpx;\n\n    &.is-active {\n      background: #1e9fff;\n      color: #fff;\n    }\n  }\n\n  &__publish {\n    margin-left: auto;\n    padding: 16rpx 24rpx;\n    border-radius: 32rpx;\n    background: linear-gradient(135deg, #1e9fff, #5b8bf7);\n    color: #fff;\n    font-size: 26rpx;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discussion.vue?vue&type=style&index=0&id=ebfb7374&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./discussion.vue?vue&type=style&index=0&id=ebfb7374&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1761281134119\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}